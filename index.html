<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Welder RM Tool</title>

<style>
body{
  margin:0;
  font-family:Inter,Arial,sans-serif;
  background:#0b0f14;
  color:#e5e7eb;
  display:flex;
  justify-content:center;
  padding:16px 0;
}
.container{
  width:100%;
  max-width:430px;
  padding:0 12px;
}
h1{
  text-align:center;
  margin-bottom:16px;
  font-size:24px;
}
.card{
  background:#111827;
  border-radius:16px;
  padding:18px;
  box-shadow:0 0 30px rgba(0,0,0,.6);
}

/* SIDE */
.side{
  display:flex;
  gap:8px;
  margin-bottom:14px;
}
.side button{
  flex:1;
  padding:10px;
  border:none;
  border-radius:10px;
  font-size:14px;
  color:#fff;
  cursor:pointer;
}
.long{background:#10b981;}
.short{background:#ef4444;}
.active{box-shadow:0 0 14px rgba(255,255,255,.35);}

/* INPUTS */
label{
  font-size:13px;
  margin-top:12px;
  display:block;
  color:#9ca3af;
}
input{
  width:100%;
  margin-top:6px;
  padding:10px;
  border-radius:10px;
  border:none;
  background:#1f2937;
  color:#fff;
}

/* BUTTON */
.calc{
  width:100%;
  margin-top:18px;
  padding:12px;
  border-radius:12px;
  border:none;
  background:linear-gradient(90deg,#0ea5e9,#f97316);
  color:#020617;
  font-weight:600;
  cursor:pointer;
}

/* RESULT */
.result{
  margin-top:18px;
  background:#0f172a;
  border-radius:12px;
  padding:14px;
  font-size:14px;
  line-height:1.6;
  border:1px solid #1e293b;
  display:none;
}
.sideText{
  text-align:center;
  font-size:18px;
  font-weight:700;
  margin-bottom:8px;
}
.real{
  margin:10px 0;
  padding:10px;
  border-radius:10px;
  background:linear-gradient(135deg,#0ea5e9,#f97316);
  color:#020617;
  font-weight:700;
  text-align:center;
}
.tp{
  margin-top:8px;
  padding:8px;
  border-radius:8px;
  background:#020617;
  border:1px solid #1e293b;
}
</style>
</head>

<body>
<div class="container">
<h1>Welder RM Tool</h1>

<div class="card">

<div class="side">
  <button id="longBtn" class="long active">LONG</button>
  <button id="shortBtn" class="short">SHORT</button>
</div>

<label>Депозит ($)</label>
<input id="deposit" type="number" value="1000">

<label>Риск (%) от депозита</label>
<input id="riskPercent" type="number" step="0.1" value="0.8">

<label>Сумма в сделку ($)</label>
<input id="trade" type="number" value="500">

<label>Плечо (x)</label>
<input id="leverage" type="number" value="1">

<label>Цена входа</label>
<input id="entry" type="number" value="100">

<label>TP1 (%) — обязателен</label>
<input id="tp1" type="number" value="1">

<label>TP2 (%)</label>
<input id="tp2" type="number">

<label>TP3 (%)</label>
<input id="tp3" type="number">

<label>TP4 (%)</label>
<input id="tp4" type="number">

<label>TP5 (%)</label>
<input id="tp5" type="number">

<button class="calc" onclick="calc()">Рассчитать</button>

<div id="result" class="result"></div>

</div>
</div>

<script>
let side='long';

longBtn.onclick=()=>{
  side='long';
  longBtn.classList.add('active');
  shortBtn.classList.remove('active');
}
shortBtn.onclick=()=>{
  side='short';
  shortBtn.classList.add('active');
  longBtn.classList.remove('active');
}

function calc(){
  const dep=+deposit.value;
  const riskPct=+riskPercent.value;
  const trade=+trade.value;
  const lev=+leverage.value||1;
  const entry=+entry.value;

  const tps=[
    +tp1.value,
    +tp2.value,
    +tp3.value,
    +tp4.value,
    +tp5.value
  ].filter(v=>v>0);

  if(!dep||!riskPct||!trade||!entry||tps.length===0) return;

  const riskUsd=dep*(riskPct/100);
  const realTrade=trade/lev;

  let html=`<div class="sideText">${side.toUpperCase()}</div>
            <div class="real">Фактическая сумма: $${realTrade.toFixed(2)}</div>`;

  tps.forEach((p,i)=>{
    const price=side==='long'
      ? entry*(1+p/100)
      : entry*(1-p/100);

    const profit=riskUsd*(p/tps[0]);

    html+=`
      <div class="tp">
        TP${i+1}: ${price.toFixed(2)}<br>
        Прибыль: +$${profit.toFixed(2)}
      </div>`;
  });

  result.style.display='block';
  result.innerHTML=html;
}
</script>

</body>
</html>
